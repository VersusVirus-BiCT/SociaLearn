<h1>{{ (user.role == "teacher") ? "Erfassung: " : "" }}{{ taskGroup.purpose }}</h1>

<mat-card *ngFor="let task of taskGroup.tasks">
  <mat-card-title>{{ task.name }}</mat-card-title>
  <mat-card-subtitle>
    {{ task.type.name }}
  </mat-card-subtitle>
  <mat-form-field >
    <mat-label>Frage eingeben:</mat-label>
    <input type="text" matInput placeholder="Text eingeben" [ngModel]="task.question"/>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Antwort-Typ:</mat-label>
    <mat-select (ngModelChange)="taskTypeChange($event, task)" [(ngModel)]="task.type.id">
      <mat-option *ngFor="let type of taskTypes" [value]="type.id">
        {{type.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field *ngIf="task.type.solutionType == 'text'" >
    <mat-label>LÃ¶sung eingeben:</mat-label>
    <input type="text" matInput placeholder="Text eingeben" [ngModel]="task.solution"/>
  </mat-form-field>
  <div *ngIf="task.type.solutionType == 'radio' || task.type.solutionType == 'checkbox' || task.type.solutionType == 'select'" >
    <p>Felder verwalten</p>
    <div *ngFor="let solution of task.solution">
      <mat-form-field>
        <mat-label>Feldwert:</mat-label>
        <input matInput [ngModel]="solution.value">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Ist richtig?</mat-label>
        <mat-select [ngModel]="solution.correct+''">
          <mat-option value="true">Ja</mat-option>
          <mat-option value="false">Nein</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
</mat-card>
