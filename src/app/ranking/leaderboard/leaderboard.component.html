<mat-card>
  <mat-card-header>
    <mat-card-title>
      <h2>Leaderboard</h2>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>

    <ng-template #loading>
      <mat-spinner></mat-spinner>
    </ng-template>

    <table mat-table matSort *ngIf="users; else loading" [dataSource]="users" class="leaderboard">
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>No.</th>
        <td mat-cell *matCellDef="let user">{{user.position}}</td>
      </ng-container>
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef>Username</th>
        <td mat-cell *matCellDef="let user">{{user.username}}</td>
      </ng-container>
      <ng-container matColumnDef="level">
        <th mat-header-cell *matHeaderCellDef>Level</th>
        <td mat-cell *matCellDef="let user">{{user.karma.level}}</td>
      </ng-container>
      <ng-container matColumnDef="experience">
        <th mat-header-cell *matHeaderCellDef>Experience</th>
        <td mat-cell *matCellDef="let user">{{user.karma.experience}}/{{user.karma.maxExperience}}</td>
      </ng-container>
      <ng-container matColumnDef="achievements">
        <th mat-header-cell *matHeaderCellDef>Num. Achievements</th>
        <td mat-cell *matCellDef="let user">{{user.achievements.length}}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row *matRowDef="let row; columns: columns"></tr>
    </table>

  </mat-card-content>
</mat-card>
